{"name": "test_plsql_create_drop_table[删除表操作_drop_01]", "status": "broken", "statusDetails": {"message": "AttributeError: type object 'TestPLSqlManipulateData' has no attribute 'conn_id'", "trace": "cls = <class 'cases.hadoop.plsql.testplsql.TestPLSqlManipulateData'>\n\n    @classmethod\n    def teardown_class(cls):\n        \"\"\"\n        用例执行完成后，删除本次测试新建的库\n        \"\"\"\n        # cls.conn_id = hp.sdc_dw.get_dbName_connId(db_name=cls.db_name)\n        # print(f\"数据库{cls.db_name}连接id为:{cls.conn_id}\")\n>       hp.sdc_dw.drop_database(cls.db_name, cls.conn_id)\nE       AttributeError: type object 'TestPLSqlManipulateData' has no attribute 'conn_id'\n\ncases\\hadoop\\plsql\\testplsql.py:35: AttributeError"}, "steps": [{"name": "初始化表及数据", "status": "passed", "start": 1609315953353, "stop": 1609315953353}, {"name": "获取数据库连接id", "status": "passed", "start": 1609315953353, "stop": 1609315953473}, {"name": "获取对应的表、sql语句、语句执行顺序及预期结果", "status": "passed", "start": 1609315953473, "stop": 1609315953473}, {"name": "按顺序执行sql语句，将返回结果与预期结果做对比", "status": "passed", "start": 1609315953473, "stop": 1609315962149}], "parameters": [{"name": "cases", "value": "{'module_name': 'SQL 创建和管理表', 'module_case_name': '删除表操作_drop_01', 'name_id': 'dwrun_sql_002_drop_table_01', 'isInitialized': 0, 'sqltype': 'plsql', 'tb_name': 'scott04', 'exec_order': ['sql', 'check_td', 'sql1', 'check_td1'], 'exec_sql': {'sql': 'f\"create table {tb_name}(no number(2) PRIMARY KEY,name varchar2(10),loc varchar2(10));\"', 'check_td': 'f\"show tables;\"', 'sql1': 'f\"drop table if exists {tb_name};\"', 'check_td1': 'f\"show tables;\"'}, 'expected_result': None}"}], "start": 1609315953353, "stop": 1609315962150, "uuid": "36256035-94ab-4e2d-b512-563dbf61adb7", "historyId": "8b87f4c1d4b544448b7469f0e0ae4f94", "testCaseId": "fa0613eb410c6abb97b07f622d34c9d4", "fullName": "cases.hadoop.plsql.testplsql.TestPLSqlManipulateData#test_plsql_create_drop_table", "labels": [{"name": "story", "value": "SQL 创建和管理表"}, {"name": "tag", "value": "test"}, {"name": "parentSuite", "value": "cases.hadoop.plsql"}, {"name": "suite", "value": "testplsql"}, {"name": "subSuite", "value": "TestPLSqlManipulateData"}, {"name": "host", "value": "SF-4359"}, {"name": "thread", "value": "38528-MainThread"}, {"name": "framework", "value": "pytest"}, {"name": "language", "value": "cpython3"}, {"name": "package", "value": "cases.hadoop.plsql.testplsql"}]}