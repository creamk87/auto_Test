{"name": "test_plsql_create_drop_table[删除表操作_drop_01]", "status": "broken", "statusDetails": {"message": "TypeError: eval() arg 1 must be a string, bytes or code object", "trace": "cls = <class 'cases.hadoop.plsql.testplsql.TestPLSqlManipulateData'>\n\n    @classmethod\n    def teardown_class(cls):\n        \"\"\"\n        用例执行完成后，删除本次测试新建的库\n        \"\"\"\n        # cls.conn_id = hp.sdc_dw.get_dbName_connId(db_name=cls.db_name)\n        # print(f\"数据库{cls.db_name}连接id为:{cls.conn_id}\")\n        print(f\"cls.db_name is {cls.db_name}\")\n        print(f\"cls.conn_id is {cls.conn_id}\")\n>       hp.sdc_dw.drop_database(cls.db_name, cls.conn_id)\n\ncases\\hadoop\\plsql\\testplsql.py:38: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\napi\\http\\sdc_dw.py:415: in drop_database\n    raise e\napi\\http\\sdc_dw.py:406: in drop_database\n    data_dict = dw_basic.delete_dwdesign_dbManager_v1_dbs(dbName=db_name)[\"success\"]\napi\\http\\sdc_dw_base.py:218: in delete_dwdesign_dbManager_v1_dbs\n    raise e\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\n\nself = <api.http.sdc_dw_base.SdcDwBasic object at 0x000001D336C32D00>, dbName = 'autoTest_roc'\n\n    def delete_dwdesign_dbManager_v1_dbs(self, dbName):\n        \"\"\"#\n                Args:\n                    str dbName: 仓库名称\n                    int dbType: 类型：0为全部，1为主题，2为集市\n                    str dbAlias: 显示名称\n                    str pageNum: 数据仓库描述\n    \n                Returns:\n                Raises:\n                example：\n                \"\"\"\n        try:\n            # 0、获取最新 session\n            self.get_session_new()\n            # url = self.url_base64 + \"/api/dwdesign/dbManager/v1/dbs/4?dbName={dbName}\"\n>           url = self.url_base64 + eval(self.delete_design_dbs)\nE           TypeError: eval() arg 1 must be a string, bytes or code object\n\napi\\http\\sdc_dw_base.py:208: TypeError"}, "steps": [{"name": "初始化表及数据", "status": "passed", "start": 1609316240523, "stop": 1609316240523}, {"name": "获取数据库连接id", "status": "passed", "start": 1609316240523, "stop": 1609316240660}, {"name": "获取对应的表、sql语句、语句执行顺序及预期结果", "status": "passed", "start": 1609316240660, "stop": 1609316240660}, {"name": "按顺序执行sql语句，将返回结果与预期结果做对比", "status": "passed", "start": 1609316240660, "stop": 1609316250291}], "parameters": [{"name": "cases", "value": "{'module_name': 'SQL 创建和管理表', 'module_case_name': '删除表操作_drop_01', 'name_id': 'dwrun_sql_002_drop_table_01', 'isInitialized': 0, 'sqltype': 'plsql', 'tb_name': 'scott04', 'exec_order': ['sql', 'check_td', 'sql1', 'check_td1'], 'exec_sql': {'sql': 'f\"create table {tb_name}(no number(2) PRIMARY KEY,name varchar2(10),loc varchar2(10));\"', 'check_td': 'f\"show tables;\"', 'sql1': 'f\"drop table if exists {tb_name};\"', 'check_td1': 'f\"show tables;\"'}, 'expected_result': None}"}], "start": 1609316240523, "stop": 1609316250291, "uuid": "b8261b5c-4c53-4aab-b10d-a654611cd31d", "historyId": "8b87f4c1d4b544448b7469f0e0ae4f94", "testCaseId": "fa0613eb410c6abb97b07f622d34c9d4", "fullName": "cases.hadoop.plsql.testplsql.TestPLSqlManipulateData#test_plsql_create_drop_table", "labels": [{"name": "story", "value": "SQL 创建和管理表"}, {"name": "tag", "value": "test"}, {"name": "parentSuite", "value": "cases.hadoop.plsql"}, {"name": "suite", "value": "testplsql"}, {"name": "subSuite", "value": "TestPLSqlManipulateData"}, {"name": "host", "value": "SF-4359"}, {"name": "thread", "value": "25044-MainThread"}, {"name": "framework", "value": "pytest"}, {"name": "language", "value": "cpython3"}, {"name": "package", "value": "cases.hadoop.plsql.testplsql"}]}